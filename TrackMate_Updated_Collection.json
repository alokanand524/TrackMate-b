{
	"info": {
		"_postman_id": "trackmate-updated-api",
		"name": "TrackMate Updated API Collection",
		"description": "Complete API collection for TrackMate with admin creation endpoint",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "üß™ Test",
			"item": [
				{
					"name": "Test API Connection",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/test",
							"host": ["{{base_url}}"],
							"path": ["test"]
						}
					}
				}
			]
		},
		{
			"name": "üîê Authentication",
			"item": [
				{
					"name": "1. Admin Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    if (response.success && response.data.token) {",
									"        pm.collectionVariables.set('admin_token', response.data.token);",
									"        console.log('Admin token saved:', response.data.token);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"admin@trackmate.com\",\n    \"password\": \"password123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/login",
							"host": ["{{base_url}}"],
							"path": ["auth", "login"]
						}
					}
				},
				{
					"name": "2. Employee Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    if (response.success && response.data.token) {",
									"        pm.collectionVariables.set('employee_token', response.data.token);",
									"        console.log('Employee token saved:', response.data.token);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"john@example.com\",\n    \"password\": \"password123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/login",
							"host": ["{{base_url}}"],
							"path": ["auth", "login"]
						}
					}
				},
				{
					"name": "3. Get Profile",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/auth/profile",
							"host": ["{{base_url}}"],
							"path": ["auth", "profile"]
						}
					}
				},
				{
					"name": "4. Update Profile",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Updated Admin Name\",\n    \"phone\": \"+1234567890\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/profile",
							"host": ["{{base_url}}"],
							"path": ["auth", "profile"]
						}
					}
				},
				{
					"name": "5. Logout",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/auth/logout",
							"host": ["{{base_url}}"],
							"path": ["auth", "logout"]
						}
					}
				}
			]
		},
		{
			"name": "üìç Attendance (Employee)",
			"item": [
				{
					"name": "1. Check Zone",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{employee_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"latitude\": 40.7128,\n    \"longitude\": -74.0060\n}"
						},
						"url": {
							"raw": "{{base_url}}/attendance/check-zone",
							"host": ["{{base_url}}"],
							"path": ["attendance", "check-zone"]
						}
					}
				},
				{
					"name": "2. Check In",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{employee_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"latitude\": 40.7128,\n    \"longitude\": -74.0060,\n    \"type\": \"manual\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/attendance/check-in",
							"host": ["{{base_url}}"],
							"path": ["attendance", "check-in"]
						}
					}
				},
				{
					"name": "3. Start Break",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{employee_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"break_type\": \"lunch\",\n    \"reason\": \"Lunch break\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/attendance/break-start",
							"host": ["{{base_url}}"],
							"path": ["attendance", "break-start"]
						}
					}
				},
				{
					"name": "4. End Break",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{employee_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/attendance/break-end",
							"host": ["{{base_url}}"],
							"path": ["attendance", "break-end"]
						}
					}
				},
				{
					"name": "5. Check Out",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{employee_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"latitude\": 40.7128,\n    \"longitude\": -74.0060,\n    \"type\": \"manual\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/attendance/check-out",
							"host": ["{{base_url}}"],
							"path": ["attendance", "check-out"]
						}
					}
				},
				{
					"name": "6. Today Status",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{employee_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/attendance/today",
							"host": ["{{base_url}}"],
							"path": ["attendance", "today"]
						}
					}
				},
				{
					"name": "7. Attendance History",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{employee_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/attendance/history?from_date=2024-11-01&to_date=2024-11-30&limit=30",
							"host": ["{{base_url}}"],
							"path": ["attendance", "history"],
							"query": [
								{
									"key": "from_date",
									"value": "2024-11-01"
								},
								{
									"key": "to_date",
									"value": "2024-11-30"
								},
								{
									"key": "limit",
									"value": "30"
								}
							]
						}
					}
				}
			]
		},
		{
			"name": "üë®üíº Admin - Dashboard",
			"item": [
				{
					"name": "Dashboard Statistics",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/admin/dashboard",
							"host": ["{{base_url}}"],
							"path": ["admin", "dashboard"]
						}
					}
				}
			]
		},
		{
			"name": "üë• Admin - User Management",
			"item": [
				{
					"name": "1. Create Admin",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"New Admin\",\n    \"email\": \"newadmin@trackmate.com\",\n    \"password\": \"password123\",\n    \"password_confirmation\": \"password123\",\n    \"phone\": \"+1234567890\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/admin/create-admin",
							"host": ["{{base_url}}"],
							"path": ["admin", "create-admin"]
						}
					}
				},
				{
					"name": "2. Get All Employees",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/admin/employees?search=&per_page=15",
							"host": ["{{base_url}}"],
							"path": ["admin", "employees"],
							"query": [
								{
									"key": "search",
									"value": ""
								},
								{
									"key": "per_page",
									"value": "15"
								}
							]
						}
					}
				},
				{
					"name": "3. Create Employee",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const response = pm.response.json();",
									"    if (response.success && response.data.id) {",
									"        pm.collectionVariables.set('employee_id', response.data.id);",
									"        console.log('Employee ID saved:', response.data.id);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"John Doe\",\n    \"email\": \"john@example.com\",\n    \"password\": \"password123\",\n    \"phone\": \"+1234567890\",\n    \"employee_id\": \"EMP001\",\n    \"department\": \"IT\",\n    \"designation\": \"Developer\",\n    \"joining_date\": \"2024-11-25\",\n    \"salary\": 50000.00\n}"
						},
						"url": {
							"raw": "{{base_url}}/admin/employees",
							"host": ["{{base_url}}"],
							"path": ["admin", "employees"]
						}
					}
				},
				{
					"name": "4. Update Employee",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"John Updated\",\n    \"department\": \"Marketing\",\n    \"salary\": 55000.00,\n    \"is_active\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/admin/employees/{{employee_id}}",
							"host": ["{{base_url}}"],
							"path": ["admin", "employees", "{{employee_id}}"]
						}
					}
				},
				{
					"name": "5. Delete Employee",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/admin/employees/{{employee_id}}",
							"host": ["{{base_url}}"],
							"path": ["admin", "employees", "{{employee_id}}"]
						}
					}
				},
				{
					"name": "6. Register Employee (Alternative)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Jane Smith\",\n    \"email\": \"jane@example.com\",\n    \"password\": \"password123\",\n    \"password_confirmation\": \"password123\",\n    \"phone\": \"+9876543210\",\n    \"employee_id\": \"EMP002\",\n    \"department\": \"HR\",\n    \"designation\": \"HR Manager\",\n    \"joining_date\": \"2024-11-25\",\n    \"salary\": 60000.00\n}"
						},
						"url": {
							"raw": "{{base_url}}/admin/register-employee",
							"host": ["{{base_url}}"],
							"path": ["admin", "register-employee"]
						}
					}
				}
			]
		},
		{
			"name": "üè¢ Admin - Office Zones",
			"item": [
				{
					"name": "1. Get Office Zones",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/admin/office-zones",
							"host": ["{{base_url}}"],
							"path": ["admin", "office-zones"]
						}
					}
				},
				{
					"name": "2. Create Office Zone",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const response = pm.response.json();",
									"    if (response.success && response.data.id) {",
									"        pm.collectionVariables.set('zone_id', response.data.id);",
									"        console.log('Zone ID saved:', response.data.id);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Branch Office\",\n    \"latitude\": 40.7589,\n    \"longitude\": -73.9851,\n    \"radius_meters\": 150,\n    \"address\": \"456 Broadway, New York, NY 10013\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/admin/office-zones",
							"host": ["{{base_url}}"],
							"path": ["admin", "office-zones"]
						}
					}
				},
				{
					"name": "3. Update Office Zone",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Updated Office Name\",\n    \"radius_meters\": 200,\n    \"is_active\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/admin/office-zones/{{zone_id}}",
							"host": ["{{base_url}}"],
							"path": ["admin", "office-zones", "{{zone_id}}"]
						}
					}
				},
				{
					"name": "4. Delete Office Zone",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/admin/office-zones/{{zone_id}}",
							"host": ["{{base_url}}"],
							"path": ["admin", "office-zones", "{{zone_id}}"]
						}
					}
				}
			]
		},
		{
			"name": "üìä Admin - Reports",
			"item": [
				{
					"name": "Attendance Reports",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/admin/attendance-reports?from_date=2024-11-01&to_date=2024-11-30&per_page=15",
							"host": ["{{base_url}}"],
							"path": ["admin", "attendance-reports"],
							"query": [
								{
									"key": "from_date",
									"value": "2024-11-01"
								},
								{
									"key": "to_date",
									"value": "2024-11-30"
								},
								{
									"key": "per_page",
									"value": "15"
								}
							]
						}
					}
				}
			]
		},
		{
			"name": "‚öôÔ∏è Admin - Settings",
			"item": [
				{
					"name": "1. Get Settings",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/admin/settings",
							"host": ["{{base_url}}"],
							"path": ["admin", "settings"]
						}
					}
				},
				{
					"name": "2. Update Settings",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"work_start_time\": \"08:30\",\n    \"work_end_time\": \"17:30\",\n    \"break_duration_minutes\": 45,\n    \"late_threshold_minutes\": 10\n}"
						},
						"url": {
							"raw": "{{base_url}}/admin/settings",
							"host": ["{{base_url}}"],
							"path": ["admin", "settings"]
						}
					}
				}
			]
		},
		{
			"name": "üåç Public Endpoints",
			"item": [
				{
					"name": "Get Office Zones (Public)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/office-zones",
							"host": ["{{base_url}}"],
							"path": ["office-zones"]
						}
					}
				}
			]
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://127.0.0.1:8000/api",
			"type": "string"
		},
		{
			"key": "admin_token",
			"value": "",
			"type": "string"
		},
		{
			"key": "employee_token",
			"value": "",
			"type": "string"
		},
		{
			"key": "employee_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "zone_id",
			"value": "",
			"type": "string"
		}
	]
}